/*! For license information please see jquery.uploadfile.min.js.LICENSE.txt */
!function(x){null==x.fn.ajaxForm&&x.getScript(("https:"==document.location.protocol?"https://":"http://")+"malsup.github.io/jquery.form.js");var F={};F.fileapi=void 0!==x("<input type='file'/>").get(0).files,F.formdata=void 0!==window.FormData,x.fn.uploadFile=function(e){function o(){t||(t=!0,function e(){var a;g.sequential||(g.sequentialCount=99999),0==C.length&&0==b.length?(g.afterUploadAll&&g.afterUploadAll(i),t=!1):(b.length<g.sequentialCount&&null!=(a=C.shift())&&(b.push(a),a.removeClass(i.formGroup),a.submit()),window.setTimeout(e,100))}())}function p(e){e/=1024;return 1024<parseInt(e)?(e/1024).toFixed(2)+" MB":e.toFixed(2)+" KB"}function c(e){for(var a,t=[],r=(t=("string"==jQuery.type(e)?e:x.param(e)).split("&")).length,o=[],s=0;s<r;s++)t[s]=t[s].replace(/\+/g," "),a=t[s].split("="),o.push([decodeURIComponent(a[0]),decodeURIComponent(a[1])]);return o}function h(e,a,t){for(var r=0;r<t.length;r++)if(f(0,e,t[r].name))if(e.allowDuplicates||!function(e,a){var t=!1;if(e.existingFileNames.length)for(var r=0;r<e.existingFileNames.length;r++)(e.existingFileNames[r]==a||g.duplicateStrict&&e.existingFileNames[r].toLowerCase()==a.toLowerCase())&&(t=!0);return t}(a,t[r].name))if(-1!=e.maxFileSize&&t[r].size>e.maxFileSize)e.showError&&x("<div class='"+e.errorClass+"'><b>"+t[r].name+"</b> "+e.sizeErrorStr+p(e.maxFileSize)+"</div>").appendTo(a.errorLog);else if(-1!=e.maxFileCount&&a.selectedFiles>=e.maxFileCount)e.showError&&x("<div class='"+e.errorClass+"'><b>"+t[r].name+"</b> "+e.maxFileCountErrorStr+e.maxFileCount+"</div>").appendTo(a.errorLog);else{a.selectedFiles++,a.existingFileNames.push(t[r].name);var o=x.extend({},e),s=new FormData,i=e.fileName.replace("[]",""),i=(s.append(i,t[r]),e.formData);if(i)for(var l=c(i),n=0;n<l.length;n++)l[n]&&s.append(l[n][0],l[n][1]);o.fileData=s;var i=new v(a,e),d="",d=e.showFileCounter?a.fileCounter+e.fileCounterStyle+t[r].name:t[r].name,d=(e.showFileSize&&(d+=" ("+p(t[r].size)+")"),i.filename.html(d),x("<form style='display:block; position:absolute;left: 150px;' class='"+a.formGroup+"' method='"+e.method+"' action='"+e.url+"' enctype='"+e.enctype+"'></form>")),u=(d.appendTo("body"),[]);u.push(t[r].name),w(d,o,i,u,a,t[r]),a.fileCounter++}else e.showError&&x("<div class='"+e.errorClass+"'><b>"+t[r].name+"</b> "+e.duplicateErrorStr+"</div>").appendTo(a.errorLog);else e.showError&&x("<div class='"+e.errorClass+"'><b>"+t[r].name+"</b> "+e.extErrorStr+e.allowedTypes+"</div>").appendTo(a.errorLog)}function f(e,a,t){var r=a.allowedTypes.toLowerCase().split(/[\s,]+/g),t=t.split(".").pop().toLowerCase();return!("*"!=a.allowedTypes&&jQuery.inArray(t,r)<0)}function u(e,a){if(e.existingFileNames.length)for(var t=0;t<a.length;t++){var r=e.existingFileNames.indexOf(a[t]);-1!=r&&e.existingFileNames.splice(r,1)}}function m(r,e){var o;r.showFileCounter&&(o=x(e.container).find(".ajax-file-upload-filename").length,e.fileCounter=o+1,x(e.container).find(".ajax-file-upload-filename").each(function(e,a){var t=x(this).html().split(r.fileCounterStyle),t=(parseInt(t[0]),o+r.fileCounterStyle+t[1]);x(this).html(t),o--}))}function r(e,a){return this.statusbar=x("<div class='ajax-file-upload-statusbar'></div>").width(a.statusBarWidth),this.preview=x("<img class='ajax-file-upload-preview' />").width(a.previewWidth).height(a.previewHeight).appendTo(this.statusbar).hide(),this.filename=x("<div class='ajax-file-upload-filename'></div>").appendTo(this.statusbar),this.progressDiv=x("<div class='ajax-file-upload-progress'>").appendTo(this.statusbar).hide(),this.progressbar=x("<div class='ajax-file-upload-bar'></div>").appendTo(this.progressDiv),this.abort=x("<div>"+a.abortStr+"</div>").appendTo(this.statusbar).hide(),this.cancel=x("<div>"+a.cancelStr+"</div>").appendTo(this.statusbar).hide(),this.done=x("<div>"+a.doneStr+"</div>").appendTo(this.statusbar).hide(),this.download=x("<div>"+a.downloadStr+"</div>").appendTo(this.statusbar).hide(),this.del=x("<div>"+a.deleteStr+"</div>").appendTo(this.statusbar).hide(),this.abort.addClass("ajax-file-upload-red"),this.done.addClass("ajax-file-upload-green"),this.download.addClass("ajax-file-upload-green"),this.cancel.addClass("ajax-file-upload-red"),this.del.addClass("ajax-file-upload-red"),this}function v(e,a){var t=null;return(t=a.customProgressBar?new a.customProgressBar(e,a):new r(0,a)).abort.addClass(e.formGroup),t.abort.addClass(a.abortButtonClass),t.cancel.addClass(e.formGroup),t.cancel.addClass(a.cancelButtonClass),a.extraHTML&&(t.extraHTML=x("<div class='extrahtml'>"+a.extraHTML()+"</div>").insertAfter(t.filename)),"bottom"==a.uploadQueueOrder?x(e.container).append(t.statusbar):x(e.container).prepend(t.statusbar),t}function w(s,i,l,n,d,e){var a,t,r={cache:!1,contentType:!1,processData:!1,forceSync:!1,type:i.method,data:i.formData,formData:i.fileData,dataType:i.returnType,headers:i.headers,beforeSubmit:function(e,a,t){if(0==i.onSubmit.call(this,n))return l.statusbar.append("<div class='"+i.errorClass+"'>"+i.uploadErrorStr+"</div>"),l.cancel.show(),s.remove(),l.cancel.click(function(){C.splice(C.indexOf(s),1),u(d,n),l.statusbar.remove(),i.onCancel.call(d,n,l),d.selectedFiles-=n.length,m(i,d)}),!1;if(i.dynamicFormData){var r=c(i.dynamicFormData());if(r)for(var o=0;o<r.length;o++)r[o]&&(i.serialize&&null!=i.fileData?t.formData.append(r[o][0],r[o][1]):t.data[r[o][0]]=r[o][1])}return i.extraHTML&&x(l.extraHTML).find("input,select,textarea").each(function(e,a){i.serialize&&null!=i.fileData?t.formData.append(x(this).attr("name"),x(this).val()):t.data[x(this).attr("name")]=x(this).val()}),!0},beforeSend:function(e,a){for(var t in a.headers)e.setRequestHeader(t,a.headers[t]);l.progressDiv.show(),l.cancel.hide(),l.done.hide(),i.showAbort&&(l.abort.show(),l.abort.click(function(){u(d,n),e.abort(),d.selectedFiles-=n.length,i.onAbort.call(d,n,l)})),F.formdata?l.progressbar.width("1%"):l.progressbar.width("5%")},uploadProgress:function(e,a,t,r){var o=(r=98<r?98:r)+"%";1<r&&l.progressbar.width(o),i.showProgress&&(l.progressbar.html(o),l.progressbar.css("text-align","center"))},success:function(e,a,t){var r;l.cancel.remove(),b.pop(),"json"==i.returnType&&"object"==x.type(e)&&e.hasOwnProperty(i.customErrorKeyStr)?(l.abort.hide(),r=e[i.customErrorKeyStr],i.onError.call(this,n,200,r,l),i.showStatusAfterError?(l.progressDiv.hide(),l.statusbar.append("<span class='"+i.errorClass+"'>ERROR: "+r+"</span>")):(l.statusbar.hide(),l.statusbar.remove()),d.selectedFiles-=n.length):(d.responses.push(e),l.progressbar.width("100%"),i.showProgress&&(l.progressbar.html("100%"),l.progressbar.css("text-align","center")),l.abort.hide(),i.onSuccess.call(this,n,e,t,l),i.showStatusAfterSuccess?(i.showDone?(l.done.show(),l.done.click(function(){l.statusbar.hide("slow"),l.statusbar.remove()})):l.done.hide(),i.showDelete?(l.del.show(),l.del.click(function(){u(d,n),l.statusbar.hide().remove(),i.deleteCallback&&i.deleteCallback.call(this,e,l),d.selectedFiles-=n.length,m(i,d)})):l.del.hide()):(l.statusbar.hide("slow"),l.statusbar.remove()),i.showDownload&&(l.download.show(),l.download.click(function(){i.downloadCallback&&i.downloadCallback(e,l)}))),s.remove()},error:function(e,a,t){l.cancel.remove(),b.pop(),l.abort.hide(),"abort"==e.statusText?(l.statusbar.hide("slow").remove(),m(i,d)):(i.onError.call(this,n,a,t,l),i.showStatusAfterError?(l.progressDiv.hide(),l.statusbar.append("<span class='"+i.errorClass+"'>ERROR: "+t+"</span>")):(l.statusbar.hide(),l.statusbar.remove()),d.selectedFiles-=n.length),s.remove()}};i.showPreview&&null!=e&&"image"==e.type.toLowerCase().split("/").shift()&&(e=e,a=l.preview,e)&&(a.show(),(t=new FileReader).onload=function(e){a.attr("src",e.target.result)},t.readAsDataURL(e)),i.autoSubmit?(s.ajaxForm(r),C.push(s),o()):(i.showCancel&&(l.cancel.show(),l.cancel.click(function(){C.splice(C.indexOf(s),1),u(d,n),s.remove(),l.statusbar.remove(),i.onCancel.call(d,n,l),d.selectedFiles-=n.length,m(i,d)})),s.ajaxForm(r))}var g=x.extend({url:"",method:"POST",enctype:"multipart/form-data",returnType:null,allowDuplicates:!0,duplicateStrict:!1,allowedTypes:"*",acceptFiles:"*",fileName:"file",formData:!1,dynamicFormData:!1,maxFileSize:-1,maxFileCount:-1,multiple:!0,dragDrop:!0,autoSubmit:!0,showCancel:!0,showAbort:!0,showDone:!1,showDelete:!1,showError:!0,showStatusAfterSuccess:!0,showStatusAfterError:!0,showFileCounter:!0,fileCounterStyle:"). ",showFileSize:!0,showProgress:!1,nestedForms:!0,showDownload:!1,onLoad:function(e){},onSelect:function(e){return!0},onSubmit:function(e,a){},onSuccess:function(e,a,t,r){},onError:function(e,a,t,r){},onCancel:function(e,a){},onAbort:function(e,a){},downloadCallback:!1,deleteCallback:!1,afterUploadAll:!1,serialize:!0,sequential:!1,sequentialCount:2,customProgressBar:!1,abortButtonClass:"ajax-file-upload-abort",cancelButtonClass:"ajax-file-upload-cancel",dragDropContainerClass:"ajax-upload-dragdrop",dragDropHoverClass:"state-hover",errorClass:"ajax-file-upload-error",uploadButtonClass:"ajax-file-upload",dragDropStr:"<span><b>Drag &amp; Drop Files</b></span>",uploadStr:"Upload",abortStr:"Abort",cancelStr:"Cancel",deleteStr:"Delete",doneStr:"Done",multiDragErrorStr:"Multiple File Drag &amp; Drop is not allowed.",extErrorStr:"is not allowed. Allowed extensions: ",duplicateErrorStr:"is not allowed. File already exists.",sizeErrorStr:"is not allowed. Allowed Max size: ",uploadErrorStr:"Upload is not allowed",maxFileCountErrorStr:" is not allowed. Maximum allowed files are:",downloadStr:"Download",customErrorKeyStr:"jquery-upload-file-error",showQueueDiv:!1,statusBarWidth:400,dragdropWidth:400,showPreview:!1,previewHeight:"auto",previewWidth:"100%",extraHTML:!1,uploadQueueOrder:"top",headers:{}},e),s=(this.fileCounter=1,this.selectedFiles=0,"ajax-file-upload-"+(new Date).getTime()),i=(this.formGroup=s,this.errorLog=x("<div></div>"),this.responses=[],this.existingFileNames=[],F.formdata||(g.dragDrop=!1),F.formdata&&1!==g.maxFileCount||(g.multiple=!1),x(this).html(""),this),l=x("<div>"+g.uploadStr+"</div>"),C=(x(l).addClass(g.uploadButtonClass),function e(){var a,t,r;x.fn.ajaxForm?(g.dragDrop?(r=x('<div class="'+g.dragDropContainerClass+'" style="vertical-align:top;"></div>').width(g.dragdropWidth),x(i).append(r),x(r).append(l),x(r).append(x(g.dragDropStr)),a=i,t=g,(r=r).on("dragenter",function(e){e.stopPropagation(),e.preventDefault(),x(this).addClass(t.dragDropHoverClass)}),r.on("dragover",function(e){e.stopPropagation(),e.preventDefault();e=x(this);e.hasClass(t.dragDropContainerClass)&&!e.hasClass(t.dragDropHoverClass)&&e.addClass(t.dragDropHoverClass)}),r.on("drop",function(e){e.preventDefault(),x(this).removeClass(t.dragDropHoverClass),a.errorLog.html("");e=e.originalEvent.dataTransfer.files;!t.multiple&&1<e.length?t.showError&&x("<div class='"+t.errorClass+"'>"+t.multiDragErrorStr+"</div>").appendTo(a.errorLog):0!=t.onSelect(e)&&h(t,a,e)}),r.on("dragleave",function(e){x(this).removeClass(t.dragDropHoverClass)}),x(document).on("dragenter",function(e){e.stopPropagation(),e.preventDefault()}),x(document).on("dragover",function(e){e.stopPropagation(),e.preventDefault();e=x(this);e.hasClass(t.dragDropContainerClass)||e.removeClass(t.dragDropHoverClass)}),x(document).on("drop",function(e){e.stopPropagation(),e.preventDefault(),x(this).removeClass(t.dragDropHoverClass)})):x(i).append(l),x(i).append(i.errorLog),g.showQueueDiv?i.container=x("#"+g.showQueueDiv):i.container=x("<div class='ajax-file-upload-container'></div>").insertAfter(x(i)),g.onLoad.call(this,i),function s(i,l,n,d){var e="ajax-upload-id-"+(new Date).getTime(),u=x("<form method='"+n.method+"' action='"+n.url+"' enctype='"+n.enctype+"'></form>"),a="<input type='file' id='"+e+"' name='"+n.fileName+"' accept='"+n.acceptFiles+"'/>",t=(n.multiple&&(n.fileName.indexOf("[]")!=n.fileName.length-2&&(n.fileName+="[]"),a="<input type='file' id='"+e+"' name='"+n.fileName+"' accept='"+n.acceptFiles+"' multiple/>"),x(a).appendTo(u));t.change(function(){i.errorLog.html(""),n.allowedTypes.toLowerCase().split(",");var e=[];if(this.files){for(o=0;o<this.files.length;o++)e.push(this.files[o].name);if(0==n.onSelect(this.files))return}else{var a=x(this).val(),t=[];if(e.push(a),!f(0,n,a))return void(n.showError&&x("<div class='"+n.errorClass+"'><b>"+a+"</b> "+n.extErrorStr+n.allowedTypes+"</div>").appendTo(i.errorLog));if(t.push({name:a,size:"NA"}),0==n.onSelect(t))return}if(m(n,i),d.unbind("click"),u.hide(),s(i,l,n,d),u.addClass(l),n.serialize&&F.fileapi&&F.formdata)u.removeClass(l),a=this.files,u.remove(),h(n,i,a);else{for(var r="",o=0;o<e.length;o++)n.showFileCounter?r+=i.fileCounter+n.fileCounterStyle+e[o]+"<br>":r+=e[o]+"<br>",i.fileCounter++;-1!=n.maxFileCount&&i.selectedFiles+e.length>n.maxFileCount?n.showError&&x("<div class='"+n.errorClass+"'><b>"+r+"</b> "+n.maxFileCountErrorStr+n.maxFileCount+"</div>").appendTo(i.errorLog):(i.selectedFiles+=e.length,(t=new v(i,n)).filename.html(r),w(u,n,t,e,i,null))}}),n.nestedForms?(u.css({margin:0,padding:0}),d.css({position:"relative",overflow:"hidden",cursor:"default"}),t.css({position:"absolute",cursor:"pointer",top:"0px",width:"100%",height:"100%",left:"0px","z-index":"100",opacity:"0.0",filter:"alpha(opacity=0)","-ms-filter":"alpha(opacity=0)","-khtml-opacity":"0.0","-moz-opacity":"0.0"}),u.appendTo(d)):(u.appendTo(x("body")),u.css({margin:0,padding:0,display:"block",position:"absolute",left:"-250px"}),-1!=navigator.appVersion.indexOf("MSIE ")?d.attr("for",e):d.click(function(){t.click()}))}(i,s,g,l)):window.setTimeout(e,10)}(),this.startUpload=function(){x("form").each(function(e,a){x(this).hasClass(i.formGroup)&&C.push(x(this))}),1<=C.length&&o()},this.getFileCount=function(){return i.selectedFiles},this.stopUpload=function(){x("."+g.abortButtonClass).each(function(e,a){x(this).hasClass(i.formGroup)&&x(this).click()}),x("."+g.cancelButtonClass).each(function(e,a){x(this).hasClass(i.formGroup)&&x(this).click()})},this.cancelAll=function(){x("."+g.cancelButtonClass).each(function(e,a){x(this).hasClass(i.formGroup)&&x(this).click()})},this.update=function(t){g=x.extend(g,t),t.hasOwnProperty("url")&&x("form").each(function(e,a){x(this).attr("action",t.url)})},this.enqueueFile=function(e){e instanceof File&&h(g,i,[e])},this.reset=function(e){i.fileCounter=1,i.selectedFiles=0,i.errorLog.html(""),0!=e&&i.container.html("")},this.remove=function(){i.container.html(""),x(i).remove()},this.createProgress=function(e,a,t){var r=new v(this,g),o=(r.progressDiv.show(),r.progressbar.width("100%"),""),o=g.showFileCounter?i.fileCounter+g.fileCounterStyle+e:e;return g.showFileSize&&(o+=" ("+p(t)+")"),r.filename.html(o),i.fileCounter++,i.selectedFiles++,g.showPreview&&(r.preview.attr("src",a),r.preview.show()),g.showDownload&&(r.download.show(),r.download.click(function(){g.downloadCallback&&g.downloadCallback.call(i,[e],r)})),g.showDelete&&(r.del.show(),r.del.click(function(){r.statusbar.hide().remove(),g.deleteCallback&&g.deleteCallback.call(this,[e],r),--i.selectedFiles,m(g,i)})),r},this.getResponses=function(){return this.responses},[]),b=[],t=!1;return this}}(jQuery);